[Unit]
Description=Docling OCR Sidecar (GPU)
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
WorkingDirectory=/opt/docling-sidecar
ExecStart=/root/.local/bin/uv run --project /opt/docling-sidecar uvicorn server:app --host 0.0.0.0 --port 3001
Restart=on-failure
RestartSec=5
Environment=PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True

[Install]
WantedBy=multi-user.target
